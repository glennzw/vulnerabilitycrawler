   Fixed HMAC vuln with small values of HMAC length
	* configure.in docs/download.html docs/index.html docs/news.html 
	include/xmlsec/version.h: preparation for new 1.2.12 release

2009-06-13  Aleksey Sanin  <aleksey@aleksey.com>
        * fixing gnutls detection (bug #585629)

<ul>
<li>
        <a href="http://www.aleksey.com/xmlsec/download/xmlsec1-1.2.12.tar.gz">Sources 
	for latest version</a> 
	(<a href="ftp://ftp.xmlsoft.org/xmlsec/releases">XMLSoft.org</a> mirrors).
    </li>
    <li>Fedora 7 RPM 
    	<a href="http://www.aleksey.com/xmlsec/download/">xmlsec1 packages</a>.
    </li>
    <li>
	<a href="http://www.zlatkovic.com/projects/libxml/index.html">Windows 
	The new <a href="download.html">XML Security Library 1.2.12</a> release
	includes the following changes (see ChangeLog for the complete list of changes):
	<ul>	
	<li>Added an option to return the replaced (based on the patch from Frank Gross)</li>
	<li>Added new function xmlSecNodeEncodeAndSetContent for encoding
	special chars in the node content.</li>
	<li>Bug fixes</li>
	</ul>
</li>
<br><li>July 12 2005<br>
	The new <a href="download.html">XML Security Library 1.2.9</a> release
	includes few bug fixes and adds support for the recently released 
	<a href="http://www.openssl.org">OpenSSL 0.9.8</a> including several 
	new algorithms for <a href="xmldsig.html">xmlsec-openssl</a>:
	<ul>
<li>SHA224/SHA256/SHA384/SHA512</li>
	    <li>HMAC-SHA224/SHA256/SHA384/SHA512</li>
	    <li>RSA-MD5/RIPEMD160/SHA224/SHA256/SHA384/SHA512</li>
	</ul>
</li>
<br><li>March 30 2005<br>
	The new <a href="download.html">XML Security Library 1.2.8</a> release
	merges OpenOffice.org changes to xmlsec-mscrypto and xmlsec-nss into
	main xmlsec source tree.
</li>
<br><li>February 23 2005<br>
	The new <a href="download.html">XML Security Library 1.2.7</a> release
	includes several bug fixes and minor enchancements:
	<ul>
<li>(core) added xmlSecSimpleKeysStoreGetKeys() function;</li>
	<li>(core) added functions to create &lt;X509Data/&gt; node children
	     in the signature template;</li>
	<li>(core) fixed xmlSecGenerateID() function;</li>
	<li>(core) fixed dynamic linking initialization/shutdown when custom memory 
	    allocation functions are used;</li>
	<li>(core) fixed encrypted text parsing and xmlParseInNodeContext() function;</li>
	<li>(openssl) fixed parsing quoted values in the certificate subject;</li>
	<li>(mscrypto) negative numbers support in xmlSecBnFromString()/xmlSecBnToString() functions.</li>
	</ul>
</li>

<br><li>August 25 2004<br>
	The new <a href="download.html">XML Security Library 1.2.6</a> 
	fixes several minor bugs and adds support for loading keys and
	certificates from memory.
</li>

</ul>
</td></tr></table></td>
	The new <a href="download.html">XML Security Library 1.2.12</a> release
	includes the following changes (see ChangeLog for the complete list of changes):
	<ul>	
	<li>Added an option to return the replaced (based on the patch from Frank Gross)</li>
	<li>Added new function xmlSecNodeEncodeAndSetContent for encoding
	special chars in the node content.</li>
 *
 *******************************************************************/
#ifndef XMLSEC_NO_HMAC
/** 
 * xmlSecGnuTLSKeyDataHmacId:
 * 
 *
 *******************************************************************/
#ifndef XMLSEC_NO_HMAC
/** 
 * xmlSecNssKeyDataHmacId:
 * 
 *
 *******************************************************************/
#ifndef XMLSEC_NO_HMAC
/** 
 * xmlSecOpenSSLKeyDataHmacId:
 * 
#include <xmlsec/gnutls/app.h>
#include <xmlsec/gnutls/crypto.h>

#define XMLSEC_GNUTLS_MAX_HMAC_SIZE		128

/**************************************************************************
 *
 * Internal GNUTLS HMAC CTX
 *
 *****************************************************************************/
	    ctx->dgstSize = atoi((char*)content);	    
	    xmlFree(content);
	}
	/* todo: error if dgstSize == 0 ?*/
	cur = xmlSecGetNextElementNode(cur->next);
    }
    
#include <xmlsec/nss/app.h>
#include <xmlsec/nss/crypto.h>

#define XMLSEC_NSS_MAX_HMAC_SIZE		128

/**************************************************************************
 *
 * Internal NSS HMAC CTX
 *
 *****************************************************************************/
	    ctx->dgstSize = atoi((char*)content);	    
	    xmlFree(content);
	}
	/* todo: error if dgstSize == 0 ?*/
	cur = xmlSecGetNextElementNode(cur->next);
    }
    

#include <xmlsec/openssl/crypto.h>


/**************************************************************************
 *
	    ctx->dgstSize = atoi((char*)content);	    
	    xmlFree(content);
	}
	/* todo: error if dgstSize == 0 ?*/
	cur = xmlSecGetNextElementNode(cur->next);
    }
    
