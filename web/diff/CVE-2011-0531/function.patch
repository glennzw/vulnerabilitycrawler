commit 59491dcedffbf97612d2c572943b56ee4289dd07
Author: Steve Lhomme <slhomme@matroska.org>
Date:   Sat Jan 29 14:27:43 2011 +0100

    the ID could be OK but the class mismatching
    
    Signed-off-by: RÃ©mi Denis-Courmont <remi@remlab.net>

diff --git a/modules/demux/mkv/mkv.hpp b/modules/demux/mkv/mkv.hpp
index f0e87c6..664cafa 100644
--- a/modules/demux/mkv/mkv.hpp
+++ b/modules/demux/mkv/mkv.hpp
@@ -101,21 +101,21 @@
 extern "C" {
    #include "../mp4/libmp4.h"
 }
 #ifdef HAVE_ZLIB_H
 #   include <zlib.h>
 #endif
 
 #define MKV_DEBUG 0
 
 #define MATROSKA_COMPRESSION_NONE  -1
 #define MATROSKA_COMPRESSION_ZLIB   0
 #define MATROSKA_COMPRESSION_BLIB   1
 #define MATROSKA_COMPRESSION_LZOX   2
 #define MATROSKA_COMPRESSION_HEADER 3
 
 #define MKVD_TIMECODESCALE 1000000
 
-#define MKV_IS_ID( el, C ) ( EbmlId( (*el) ) == C::ClassInfos.GlobalId )
+#define MKV_IS_ID( el, C ) ( el != NULL && typeid( *el ) == typeid( C ) )
 
 
 using namespace LIBMATROSKA_NAMESPACE;
