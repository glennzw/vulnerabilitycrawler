   [PATCH] skip data conversion in compat_sys_mount when data_page is NULL
   
   OpenVZ Linux kernel team has found a problem with mounting in compat mode.
   
   Simple command "mount -t smbfs ..." on Fedora Core 5 distro in 32-bit mode
   leads to oops:
   
     Unable to handle kernel NULL pointer dereference at 0000000000000000 RIP: compat_sys_mount+0xd6/0x290
     Process mount (pid: 14656, veid=300, threadinfo ffff810034d30000, task ffff810034c86bc0)
     Call Trace: ia32_sysret+0x0/0xa
   
   The problem is that data_page pointer can be NULL, so we should skip data
   conversion in this case.
   
   Signed-off-by: Andrey Mirkin <amirkin@openvz.org>
   Cc: <stable@kernel.org>
   Signed-off-by: Andrew Morton <akpm@osdl.org>
   Signed-off-by: Linus Torvalds <torvalds@osdl.org>

	retval = -EINVAL;

	if (type_page) {
		if (!strcmp((char *)type_page, SMBFS_NAME)) {
			do_smb_super_data_conv((void *)data_page);
		} else if (!strcmp((char *)type_page, NCPFS_NAME)) {
