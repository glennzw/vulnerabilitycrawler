   Fix generate-id() to not expose object addresses
   
   As pointed out by Chris Evans <scarybeasts@gmail.com> it's better
   security wise to not expose object addresses directly, use a diff
   w.r.t. the document root own address to avoid this
   * libxslt/functions.c: fix IDs generation code
void
xsltGenerateIdFunction(xmlXPathParserContextPtr ctxt, int nargs){
    xmlNodePtr cur = NULL;
    unsigned long val;
    xmlChar str[20];

    if (nargs == 0) {
	cur = ctxt->context->node;
     * Okay this is ugly but should work, use the NodePtr address
     * to forge the ID
     */
    val = (unsigned long)((char *)cur - (char *)0);
    val /= sizeof(xmlNode);
    sprintf((char *)str, "id%ld", val);
    valuePush(ctxt, xmlXPathNewString(str));
}

